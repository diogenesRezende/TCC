\begin{lstlisting} [style=custom_Java] 	
/**
 *Imports Omitidos
 */

public class ListenerAtualizations implements ServletContextListener {

	public void contextInitialized(ServletContextEvent arg0) {
		ServletContext servletContext = arg0.getServletContext();

		int delay = 1000;
		Timer timer = new Timer();
		timer.scheduleAtFixedRate(
			new TimerTask() {
				public void run() {
					/**
					 * Tarefas a serem executadas
					 */
				}
			}, delay, 5000);
		servletContext.setAttribute("timer", timer);
	}

	public void contextDestroyed(ServletContextEvent arg0) {
		ServletContext servletContext = arg0.getServletContext();
		Timer timer = (Timer) servletContext.getAttribute("timer");
		if (timer != null)
			timer.cancel();
		servletContext.removeAttribute("timer");

	}

}
	
\end{lstlisting}

